
> devduck@0.2.0 test:installer:pw
> playwright test -c tests/installer/playwright.config.ts


Running 34 tests using 1 worker

(node:14700) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:14700) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
  âœ“   1 tests/installer/install-project-scripts.pw.spec.ts:27:3 â€º Install Project Scripts â€º Install default scripts from project @smoke (7ms)
  âœ“   2 tests/installer/install-project-scripts.pw.spec.ts:90:3 â€º Install Project Scripts â€º Install additional scripts via importScripts @smoke (1ms)
  âœ“   3 tests/installer/install-project-scripts.pw.spec.ts:142:3 â€º Install Project Scripts â€º Remove scripts when project is removed from config @smoke (2ms)
  âœ“   4 tests/installer/install-project-scripts.pw.spec.ts:194:3 â€º Install Project Scripts â€º Handle missing project package.json gracefully @smoke (2ms)
  âœ“   5 tests/installer/install-project-scripts.pw.spec.ts:228:3 â€º Install Project Scripts â€º Verify scripts do not change current directory @smoke (1ms)
Created shared workspace: /workspace/.cache/temp/install-steps-test-1766884882885
[36m
[Step 1] Checking environment variables...[0m
[33m
  âš  Missing required environment variables:[0m
[33m    - TEST_VAR_1 (config) - Test variable 1[0m
[36m
  â„¹ Please:[0m
[36m    1. Switch to workspace folder: cd /workspace/.cache/temp/install-steps-test-1766884882885[0m
[36m    2. Set missing variables in .env file or environment variables[0m
[36m    3. Re-run installation[0m
[33m  âš  Step 1 requires user input[0m
[36m
[Step 1] Checking environment variables...[0m
[32m  âœ“ All required environment variables are present[0m
[32m  âœ“ Step 1 completed[0m
  âœ“   6 tests/installer/install-steps.pw.spec.ts:76:3 â€º Installation Steps â€º Step 1: Check Environment Variables (23ms)
[36m
[Step 2] Downloading repositories...[0m
[36m  â„¹ No repositories to download[0m
  âœ“   7 tests/installer/install-steps.pw.spec.ts:116:3 â€º Installation Steps â€º Step 2: Download Repos (6ms)
[36m
[Step 3] Downloading projects...[0m
[36m  â„¹ No projects to download[0m
  âœ“   8 tests/installer/install-steps.pw.spec.ts:129:3 â€º Installation Steps â€º Step 3: Download Projects @smoke (2ms)
[36m
[Step 4] Checking environment variables again...[0m
[32m  âœ“ All required environment variables are present[0m
[32m  âœ“ Step 4 completed[0m
  âœ“   9 tests/installer/install-steps.pw.spec.ts:144:3 â€º Installation Steps â€º Step 4: Check Environment Again (6ms)
[36m
[Step 5] Setting up modules...[0m
[36m  â„¹ Executing module hooks...[0m
[32m  âœ“ Step 5 completed[0m
  âœ“  10 tests/installer/install-steps.pw.spec.ts:157:3 â€º Installation Steps â€º Step 5: Setup Modules (8ms)
[36m
[Step 6] Setting up projects...[0m
[36m  â„¹ No projects to setup[0m
  âœ“  11 tests/installer/install-steps.pw.spec.ts:173:3 â€º Installation Steps â€º Step 6: Setup Projects @smoke (4ms)
[36m
[Step 7] Verifying installation...[0m
[36m  â„¹ Verifying 0 check(s)...[0m
[32m  âœ“ All verifications passed (0/0 passed, 0 skipped)[0m
[32m  âœ“ Step 7 completed[0m
Cleaned up shared workspace: /workspace/.cache/temp/install-steps-test-1766884882885
  âœ“  12 tests/installer/install-steps.pw.spec.ts:192:3 â€º Installation Steps â€º Step 7: Verify Installation (4ms)
  âœ“  13 tests/installer/installer-gui.pw.spec.ts:8:5 â€º Workspace Installer - GUI/Interactive Mode â€º Fresh Workspace Installation â€º GUI Installation - Fresh Workspace (364ms)
  âœ“  14 tests/installer/installer-gui.pw.spec.ts:52:5 â€º Workspace Installer - GUI/Interactive Mode â€º Existing Workspace Operations â€º Detect Existing Workspace (373ms)
  âœ“  15 tests/installer/installer-strictness.pw.spec.ts:6:1 â€º installer: hook load failure is fatal (410ms)
  âœ“  16 tests/installer/installer-strictness.pw.spec.ts:27:1 â€º installer: .env values are available to shell checks (fill-missing) (351ms)
  âœ“  17 tests/installer/installer-strictness.pw.spec.ts:55:1 â€º installer: checks without name do not print "Checking undefined" (350ms)
  âœ“  18 tests/installer/installer-strictness.pw.spec.ts:77:1 â€º installer summary: prints INSTALLATION FINISHED WITH ERRORS on failures (339ms)
  âœ“  19 tests/installer/installer-unattended.pw.spec.ts:17:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation from fixture - cursor-only (378ms)
  âœ“  20 tests/installer/installer-unattended.pw.spec.ts:46:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation - Fresh Workspace (329ms)
  âœ“  21 tests/installer/installer-unattended.pw.spec.ts:74:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with Config File (346ms)
  âœ“  22 tests/installer/installer-unattended.pw.spec.ts:102:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with workspace.config.json (local folder project src) (454ms)
  âœ“  23 tests/installer/installer-unattended.pw.spec.ts:170:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with workspace.config.json seedFiles[] copies seed files/folders (387ms)
  âœ“  24 tests/installer/installer-unattended.pw.spec.ts:203:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation - Full Structure Verification (391ms)
  âœ“  25 tests/installer/installer-unattended.pw.spec.ts:242:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstall Existing Workspace - Unattended (751ms)
  âœ“  26 tests/installer/installer-unattended.pw.spec.ts:280:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Add Modules to Existing Workspace (741ms)
  âœ“  27 tests/installer/installer-unattended.pw.spec.ts:315:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Remove Modules from Existing Workspace (734ms)
  âœ“  28 tests/installer/installer-unattended.pw.spec.ts:347:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstallation Verification - Preserve Configuration (729ms)
  âœ“  29 tests/installer/installer-unattended.pw.spec.ts:388:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstallation - Module Hooks Re-executed (739ms)
  âœ“  30 tests/installer/installer-unattended.pw.spec.ts:426:5 â€º Workspace Installer - Unattended Mode â€º External Repository Installation â€º Installation with External Repository (859ms)
  âœ“  31 tests/installer/module-patterns.pw.spec.ts:11:3 â€º workspace modules patterns â€º modules: ["issue-*"] expands to issue-tracker and issue-tracker-github (5ms)
  âœ“  32 tests/installer/npx-new-workspace.pw.spec.ts:12:3 â€º devduck new (npx-friendly bootstrap) â€º clones DevDuck into devduck/src when not listed in projects (2.3s)
  âœ“  33 tests/installer/npx-new-workspace.pw.spec.ts:34:3 â€º devduck new (npx-friendly bootstrap) â€º resolves relative workspace path from INIT_CWD (npx cache cwd simulation) (2.4s)
  âœ“  34 tests/installer/workspace-modules-installation.pw.spec.ts:7:3 â€º Workspace Installer - Workspace-local modules/ â€º Installs module from workspace/modules when listed in config (419ms)

  34 passed (15.1s)
