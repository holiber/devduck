
> devduck@0.2.0 test:installer:pw
> playwright test tests/installer/


Running 34 tests using 1 worker

(node:3823) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3823) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
  âœ“   1 tests/installer/install-project-scripts.pw.spec.ts:39:3 â€º Install Project Scripts â€º @smoke Install default scripts from project (11ms)
  âœ“   2 tests/installer/install-project-scripts.pw.spec.ts:113:3 â€º Install Project Scripts â€º @smoke Install additional scripts via importScripts (5ms)
  âœ“   3 tests/installer/install-project-scripts.pw.spec.ts:175:3 â€º Install Project Scripts â€º @smoke Remove scripts when project is removed from config (4ms)
  âœ“   4 tests/installer/install-project-scripts.pw.spec.ts:237:3 â€º Install Project Scripts â€º @smoke Handle missing project package.json gracefully (5ms)
  âœ“   5 tests/installer/install-project-scripts.pw.spec.ts:277:3 â€º Install Project Scripts â€º @smoke Verify scripts do not change current directory (4ms)
Created shared workspace: /workspace/.cache/temp/install-steps-test-1766885461612
[36m
[Step 1] Checking environment variables...[0m
[33m
  âš  Missing required environment variables:[0m
[33m    - TEST_VAR_1 (config) - Test variable 1[0m
[36m
  â„¹ Please:[0m
[36m    1. Switch to workspace folder: cd /workspace/.cache/temp/install-steps-test-1766885461612[0m
[36m    2. Set missing variables in .env file or environment variables[0m
[36m    3. Re-run installation[0m
[33m  âš  Step 1 requires user input[0m
[36m
[Step 1] Checking environment variables...[0m
[32m  âœ“ All required environment variables are present[0m
[32m  âœ“ Step 1 completed[0m
  âœ“   6 tests/installer/install-steps.pw.spec.ts:50:3 â€º Installation Steps â€º @smoke Step 1: Check Environment Variables (32ms)
[36m
[Step 2] Downloading repositories...[0m
[36m  â„¹ No repositories to download[0m
  âœ“   7 tests/installer/install-steps.pw.spec.ts:90:3 â€º Installation Steps â€º @smoke Step 2: Download Repos (2ms)
[36m
[Step 3] Downloading projects...[0m
[36m  â„¹ No projects to download[0m
  âœ“   8 tests/installer/install-steps.pw.spec.ts:114:3 â€º Installation Steps â€º @smoke Step 3: Download Projects (3ms)
[36m
[Step 4] Checking environment variables again...[0m
[32m  âœ“ All required environment variables are present[0m
[32m  âœ“ Step 4 completed[0m
  âœ“   9 tests/installer/install-steps.pw.spec.ts:138:3 â€º Installation Steps â€º @smoke Step 4: Check Environment Again (9ms)
[36m
[Step 5] Setting up modules...[0m
[36m  â„¹ Executing module hooks...[0m
[32m  âœ“ Step 5 completed[0m
  âœ“  10 tests/installer/install-steps.pw.spec.ts:160:3 â€º Installation Steps â€º @smoke Step 5: Setup Modules (12ms)
[36m
[Step 6] Setting up projects...[0m
[36m  â„¹ No projects to setup[0m
  âœ“  11 tests/installer/install-steps.pw.spec.ts:186:3 â€º Installation Steps â€º @smoke Step 6: Setup Projects (3ms)
[36m
[Step 7] Verifying installation...[0m
[36m  â„¹ Verifying 0 check(s)...[0m
[32m  âœ“ All verifications passed (0/0 passed, 0 skipped)[0m
[32m  âœ“ Step 7 completed[0m
Cleaned up shared workspace: /workspace/.cache/temp/install-steps-test-1766885461612
  âœ“  12 tests/installer/install-steps.pw.spec.ts:214:3 â€º Installation Steps â€º @smoke Step 7: Verify Installation (10ms)
  âœ“  13 tests/installer/installer-gui.pw.spec.ts:22:5 â€º Workspace Installer - GUI/Interactive Mode â€º Fresh Workspace Installation â€º GUI Installation - Fresh Workspace (379ms)
  âœ“  14 tests/installer/installer-gui.pw.spec.ts:74:5 â€º Workspace Installer - GUI/Interactive Mode â€º Existing Workspace Operations â€º Detect Existing Workspace (386ms)
  âœ“  15 tests/installer/installer-strictness.pw.spec.ts:16:1 â€º installer: hook load failure is fatal (419ms)
  âœ“  16 tests/installer/installer-strictness.pw.spec.ts:65:1 â€º installer: .env values are available to shell checks (fill-missing) (346ms)
  âœ“  17 tests/installer/installer-strictness.pw.spec.ts:107:1 â€º installer: checks without name do not print "Checking undefined" (362ms)
  âœ“  18 tests/installer/installer-strictness.pw.spec.ts:151:1 â€º installer summary: prints INSTALLATION FINISHED WITH ERRORS on failures (335ms)
  âœ“  19 tests/installer/installer-unattended.pw.spec.ts:23:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation from fixture - cursor-only (357ms)
  âœ“  20 tests/installer/installer-unattended.pw.spec.ts:58:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation - Fresh Workspace (350ms)
  âœ“  21 tests/installer/installer-unattended.pw.spec.ts:92:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with Config File (344ms)
  âœ“  22 tests/installer/installer-unattended.pw.spec.ts:127:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with workspace.config.json (local folder project src) (377ms)
  âœ“  23 tests/installer/installer-unattended.pw.spec.ts:176:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with workspace.config.json seedFiles[] copies seed files/folders (358ms)
  âœ“  24 tests/installer/installer-unattended.pw.spec.ts:199:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation - Full Structure Verification (375ms)
  âœ“  25 tests/installer/installer-unattended.pw.spec.ts:227:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstall Existing Workspace - Unattended (366ms)
  âœ“  26 tests/installer/installer-unattended.pw.spec.ts:252:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Add Modules to Existing Workspace (369ms)
  âœ“  27 tests/installer/installer-unattended.pw.spec.ts:277:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Remove Modules from Existing Workspace (335ms)
  âœ“  28 tests/installer/installer-unattended.pw.spec.ts:302:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstallation Verification - Preserve Configuration (368ms)
  âœ“  29 tests/installer/installer-unattended.pw.spec.ts:327:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstallation - Module Hooks Re-executed (353ms)
  âœ“  30 tests/installer/installer-unattended.pw.spec.ts:352:5 â€º Workspace Installer - Unattended Mode â€º External Repository Installation â€º Installation with External Repository (923ms)
  âœ“  31 tests/installer/module-patterns.pw.spec.ts:17:3 â€º workspace modules patterns â€º @smoke modules: ["issue-*"] expands to issue-tracker and issue-tracker-github (7ms)
  âœ“  32 tests/installer/npx-new-workspace.pw.spec.ts:22:3 â€º devduck new (npx-friendly bootstrap) â€º clones DevDuck into devduck/src when not listed in projects (3.2s)
  âœ“  33 tests/installer/npx-new-workspace.pw.spec.ts:56:3 â€º devduck new (npx-friendly bootstrap) â€º resolves relative workspace path from INIT_CWD (npx cache cwd simulation) (2.6s)
  âœ“  34 tests/installer/workspace-modules-installation.pw.spec.ts:19:3 â€º Workspace Installer - Workspace-local modules/ â€º Installs module from workspace/modules when listed in config (386ms)

  34 passed (14.5s)
