
Running 34 tests using 1 worker

(node:17413) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:17413) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
  âœ“   1 tests/installer/install-project-scripts.pw.spec.ts:26:3 â€º Install Project Scripts â€º Install default scripts from project @smoke (10ms)
  âœ“   2 tests/installer/install-project-scripts.pw.spec.ts:75:3 â€º Install Project Scripts â€º Install additional scripts via importScripts @smoke (6ms)
  âœ“   3 tests/installer/install-project-scripts.pw.spec.ts:113:3 â€º Install Project Scripts â€º Remove scripts when project is removed from config @smoke (2ms)
  âœ“   4 tests/installer/install-project-scripts.pw.spec.ts:151:3 â€º Install Project Scripts â€º Handle missing project package.json gracefully @smoke (2ms)
  âœ“   5 tests/installer/install-project-scripts.pw.spec.ts:176:3 â€º Install Project Scripts â€º Verify scripts do not change current directory @smoke (3ms)
Created shared workspace: /workspace/.cache/temp/install-steps-test-1766886145555
[36m
[Step 1] Checking environment variables...[0m
[33m
  âš  Missing required environment variables:[0m
[33m    - TEST_VAR_1 (config) - Test variable 1[0m
[36m
  â„¹ Please:[0m
[36m    1. Switch to workspace folder: cd /workspace/.cache/temp/install-steps-test-1766886145555[0m
[36m    2. Set missing variables in .env file or environment variables[0m
[36m    3. Re-run installation[0m
[33m  âš  Step 1 requires user input[0m
[36m
[Step 1] Checking environment variables...[0m
[32m  âœ“ All required environment variables are present[0m
[32m  âœ“ Step 1 completed[0m
  âœ“   6 tests/installer/install-steps.pw.spec.ts:29:3 â€º Installation Steps â€º Step 1: Check Environment Variables (43ms)
[36m
[Step 2] Downloading repositories...[0m
[36m  â„¹ No repositories to download[0m
  âœ“   7 tests/installer/install-steps.pw.spec.ts:59:3 â€º Installation Steps â€º Step 2: Download Repos @smoke (3ms)
[36m
[Step 3] Downloading projects...[0m
[36m  â„¹ No projects to download[0m
  âœ“   8 tests/installer/install-steps.pw.spec.ts:70:3 â€º Installation Steps â€º Step 3: Download Projects @smoke (3ms)
[36m
[Step 4] Checking environment variables again...[0m
[32m  âœ“ All required environment variables are present[0m
[32m  âœ“ Step 4 completed[0m
  âœ“   9 tests/installer/install-steps.pw.spec.ts:81:3 â€º Installation Steps â€º Step 4: Check Environment Again @smoke (7ms)
[36m
[Step 5] Setting up modules...[0m
[36m  â„¹ Executing module hooks...[0m
[32m  âœ“ Step 5 completed[0m
  âœ“  10 tests/installer/install-steps.pw.spec.ts:90:3 â€º Installation Steps â€º Step 5: Setup Modules (10ms)
[36m
[Step 6] Setting up projects...[0m
[36m  â„¹ No projects to setup[0m
  âœ“  11 tests/installer/install-steps.pw.spec.ts:102:3 â€º Installation Steps â€º Step 6: Setup Projects @smoke (3ms)
[36m
[Step 7] Verifying installation...[0m
[36m  â„¹ Verifying 0 check(s)...[0m
[32m  âœ“ All verifications passed (0/0 passed, 0 skipped)[0m
[32m  âœ“ Step 7 completed[0m
Cleaned up shared workspace: /workspace/.cache/temp/install-steps-test-1766886145555
  âœ“  12 tests/installer/install-steps.pw.spec.ts:111:3 â€º Installation Steps â€º Step 7: Verify Installation (8ms)
  âœ“  13 tests/installer/installer-gui.pw.spec.ts:7:5 â€º Workspace Installer - GUI/Interactive Mode â€º Fresh Workspace Installation â€º GUI Installation - Fresh Workspace (358ms)
  âœ“  14 tests/installer/installer-gui.pw.spec.ts:51:5 â€º Workspace Installer - GUI/Interactive Mode â€º Existing Workspace Operations â€º Detect Existing Workspace (370ms)
  âœ“  15 tests/installer/installer-strictness.pw.spec.ts:5:1 â€º installer: hook load failure is fatal (422ms)
  âœ“  16 tests/installer/installer-strictness.pw.spec.ts:26:1 â€º installer: .env values are available to shell checks (fill-missing) (361ms)
  âœ“  17 tests/installer/installer-strictness.pw.spec.ts:54:1 â€º installer: checks without name do not print "Checking undefined" (359ms)
  âœ“  18 tests/installer/installer-strictness.pw.spec.ts:76:1 â€º installer summary: prints INSTALLATION FINISHED WITH ERRORS on failures (354ms)
  âœ“  19 tests/installer/installer-unattended.pw.spec.ts:7:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation from fixture - cursor-only (377ms)
  âœ“  20 tests/installer/installer-unattended.pw.spec.ts:37:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation - Fresh Workspace (345ms)
  âœ“  21 tests/installer/installer-unattended.pw.spec.ts:65:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with Config File (356ms)
  âœ“  22 tests/installer/installer-unattended.pw.spec.ts:93:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with workspace.config.json (local folder project src) (457ms)
  âœ“  23 tests/installer/installer-unattended.pw.spec.ts:157:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with workspace.config.json seedFiles[] copies seed files/folders (382ms)
  âœ“  24 tests/installer/installer-unattended.pw.spec.ts:190:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation - Full Structure Verification (389ms)
  âœ“  25 tests/installer/installer-unattended.pw.spec.ts:229:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstall Existing Workspace - Unattended (756ms)
  âœ“  26 tests/installer/installer-unattended.pw.spec.ts:267:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Add Modules to Existing Workspace (759ms)
  âœ“  27 tests/installer/installer-unattended.pw.spec.ts:302:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Remove Modules from Existing Workspace (836ms)
  âœ“  28 tests/installer/installer-unattended.pw.spec.ts:334:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstallation Verification - Preserve Configuration (786ms)
  âœ“  29 tests/installer/installer-unattended.pw.spec.ts:375:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstallation - Module Hooks Re-executed (784ms)
  âœ“  30 tests/installer/installer-unattended.pw.spec.ts:414:5 â€º Workspace Installer - Unattended Mode â€º External Repository Installation â€º Installation with External Repository (889ms)
  âœ“  31 tests/installer/module-patterns.pw.spec.ts:10:3 â€º workspace modules patterns â€º modules: ["issue-*"] expands to issue-tracker and issue-tracker-github (5ms)
  âœ“  32 tests/installer/npx-new-workspace.pw.spec.ts:11:3 â€º devduck new (npx-friendly bootstrap) â€º clones DevDuck into devduck/src when not listed in projects (2.5s)
  âœ“  33 tests/installer/npx-new-workspace.pw.spec.ts:33:3 â€º devduck new (npx-friendly bootstrap) â€º resolves relative workspace path from INIT_CWD (npx cache cwd simulation) (2.5s)
  âœ“  34 tests/installer/workspace-modules-installation.pw.spec.ts:6:3 â€º Workspace Installer - Workspace-local modules/ â€º Installs module from workspace/modules when listed in config (411ms)

  34 passed (15.8s)
