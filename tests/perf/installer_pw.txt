
> devduck@0.2.0 test:installer:pw
> playwright test tests/installer


Running 34 tests using 2 workers

(node:6593) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:6594) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:6593) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
(node:6594) Warning: The 'NO_COLOR' env is ignored due to the 'FORCE_COLOR' env being set.
(Use `node --trace-warnings ...` to show where the warning was created)
  âœ“   1 tests/installer/install-project-scripts.pw.spec.ts:35:3 â€º Install Project Scripts â€º Install default scripts from project (11ms)
Created shared workspace: /workspace/.cache/temp/install-steps-test-1766885591482
  âœ“   3 tests/installer/install-project-scripts.pw.spec.ts:110:3 â€º Install Project Scripts â€º Install additional scripts via importScripts @smoke (4ms)
[36m
[Step 1] Checking environment variables...[0m
  âœ“   4 tests/installer/install-project-scripts.pw.spec.ts:172:3 â€º Install Project Scripts â€º Remove scripts when project is removed from config @smoke (3ms)
[33m
  âš  Missing required environment variables:[0m
[33m    - TEST_VAR_1 (config) - Test variable 1[0m
[36m
  â„¹ Please:[0m
[36m    1. Switch to workspace folder: cd /workspace/.cache/temp/install-steps-test-1766885591482[0m
[36m    2. Set missing variables in .env file or environment variables[0m
[36m    3. Re-run installation[0m
[33m  âš  Step 1 requires user input[0m
[36m
[Step 1] Checking environment variables...[0m
  âœ“   5 tests/installer/install-project-scripts.pw.spec.ts:234:3 â€º Install Project Scripts â€º Handle missing project package.json gracefully @smoke (6ms)
[32m  âœ“ All required environment variables are present[0m
[32m  âœ“ Step 1 completed[0m
  âœ“   2 tests/installer/install-steps.pw.spec.ts:44:3 â€º Installation Steps â€º Step 1: Check Environment Variables (38ms)
  âœ“   6 tests/installer/install-project-scripts.pw.spec.ts:274:3 â€º Install Project Scripts â€º Verify scripts do not change current directory @smoke (5ms)
[36m
[Step 2] Downloading repositories...[0m
[36m  â„¹ No repositories to download[0m
  âœ“   7 tests/installer/install-steps.pw.spec.ts:85:3 â€º Installation Steps â€º Step 2: Download Repos @smoke (6ms)
[36m
[Step 3] Downloading projects...[0m
[36m  â„¹ No projects to download[0m
  âœ“   9 tests/installer/install-steps.pw.spec.ts:98:3 â€º Installation Steps â€º Step 3: Download Projects @smoke (8ms)
[36m
[Step 4] Checking environment variables again...[0m
[32m  âœ“ All required environment variables are present[0m
[32m  âœ“ Step 4 completed[0m
  âœ“  10 tests/installer/install-steps.pw.spec.ts:111:3 â€º Installation Steps â€º Step 4: Check Environment Again (11ms)
[36m
[Step 5] Setting up modules...[0m
[36m  â„¹ Executing module hooks...[0m
[32m  âœ“ Step 5 completed[0m
  âœ“  11 tests/installer/install-steps.pw.spec.ts:126:3 â€º Installation Steps â€º Step 5: Setup Modules (17ms)
[36m
[Step 6] Setting up projects...[0m
[36m  â„¹ No projects to setup[0m
  âœ“  12 tests/installer/install-steps.pw.spec.ts:144:3 â€º Installation Steps â€º Step 6: Setup Projects @smoke (5ms)
[36m
[Step 7] Verifying installation...[0m
[36m  â„¹ Verifying 0 check(s)...[0m
[32m  âœ“ All verifications passed (0/0 passed, 0 skipped)[0m
[32m  âœ“ Step 7 completed[0m
Cleaned up shared workspace: /workspace/.cache/temp/install-steps-test-1766885591482
  âœ“  13 tests/installer/install-steps.pw.spec.ts:165:3 â€º Installation Steps â€º Step 7: Verify Installation (19ms)
  âœ“   8 tests/installer/installer-gui.pw.spec.ts:18:5 â€º Workspace Installer - GUI/Interactive Mode â€º Fresh Workspace Installation â€º GUI Installation - Fresh Workspace (380ms)
  âœ“  14 tests/installer/installer-strictness.pw.spec.ts:14:3 â€º Installer Strictness â€º installer: hook load failure is fatal (464ms)
  âœ“  15 tests/installer/installer-gui.pw.spec.ts:70:5 â€º Workspace Installer - GUI/Interactive Mode â€º Existing Workspace Operations â€º Detect Existing Workspace (407ms)
  âœ“  16 tests/installer/installer-strictness.pw.spec.ts:63:3 â€º Installer Strictness â€º installer: .env values are available to shell checks (fill-missing) (390ms)
  âœ“  17 tests/installer/installer-unattended.pw.spec.ts:19:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation from fixture - cursor-only (467ms)
  âœ“  18 tests/installer/installer-strictness.pw.spec.ts:105:3 â€º Installer Strictness â€º installer: checks without name do not print "Checking undefined" (389ms)
  âœ“  19 tests/installer/installer-unattended.pw.spec.ts:54:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation - Fresh Workspace (408ms)
  âœ“  20 tests/installer/installer-strictness.pw.spec.ts:149:3 â€º Installer Strictness â€º installer summary: prints INSTALLATION FINISHED WITH ERRORS on failures (434ms)
  âœ“  22 tests/installer/module-patterns.pw.spec.ts:13:3 â€º workspace modules patterns â€º modules: ["issue-*"] expands to issue-tracker and issue-tracker-github (7ms)
  âœ“  21 tests/installer/installer-unattended.pw.spec.ts:89:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with Config File (412ms)
  âœ“  24 tests/installer/installer-unattended.pw.spec.ts:124:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with workspace.config.json (local folder project src) (505ms)
  âœ“  25 tests/installer/installer-unattended.pw.spec.ts:205:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation with workspace.config.json seedFiles[] copies seed files/folders (418ms)
  âœ“  26 tests/installer/installer-unattended.pw.spec.ts:242:5 â€º Workspace Installer - Unattended Mode â€º Fresh Workspace Installation â€º Unattended Installation - Full Structure Verification (468ms)
  âœ“  23 tests/installer/npx-new-workspace.pw.spec.ts:14:3 â€º devduck new (npx-friendly bootstrap) â€º clones DevDuck into devduck/src when not listed in projects (2.6s)
  âœ“  27 tests/installer/installer-unattended.pw.spec.ts:290:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstall Existing Workspace - Unattended (918ms)
  âœ“  29 tests/installer/installer-unattended.pw.spec.ts:340:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Add Modules to Existing Workspace (853ms)
  âœ“  30 tests/installer/installer-unattended.pw.spec.ts:385:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Remove Modules from Existing Workspace (877ms)
  âœ“  31 tests/installer/installer-unattended.pw.spec.ts:426:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstallation Verification - Preserve Configuration (965ms)
  âœ“  28 tests/installer/npx-new-workspace.pw.spec.ts:48:3 â€º devduck new (npx-friendly bootstrap) â€º resolves relative workspace path from INIT_CWD (npx cache cwd simulation) (3.0s)
  âœ“  33 tests/installer/workspace-modules-installation.pw.spec.ts:14:3 â€º Workspace Installer - Workspace-local modules/ â€º Installs module from workspace/modules when listed in config (507ms)
  âœ“  32 tests/installer/installer-unattended.pw.spec.ts:481:5 â€º Workspace Installer - Unattended Mode â€º Existing Workspace Operations â€º Reinstallation - Module Hooks Re-executed (924ms)
  âœ“  34 tests/installer/installer-unattended.pw.spec.ts:532:5 â€º Workspace Installer - Unattended Mode â€º External Repository Installation â€º Installation with External Repository (950ms)

  34 passed (10.0s)
